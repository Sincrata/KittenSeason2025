<!DOCTYPE html>
<html>
<head>
  <title id="pageTitle">Prompt Title</title>
  <link rel="stylesheet" href="style.css">
  <style>
    article {
      max-width: 600px;
      margin: auto;
      display: block;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      text-align: center;
    }
    .story {
      margin: 30px auto;
      max-width: 600px;
      font-size: 18px;
      line-height: 1.6;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 10px;
    }
    .button-group {
      margin-top: 30px;
    }
    #customDisplay {
      margin-bottom: 30px;
      font-size: 16px;
      line-height: 1.5;
    }
    
    #copyBuffer {
      position: absolute;
      left: -9999px;
    }
  </style>
</head>
<body class="prompt">
<article>
  <h2 id="promptTitle" class="prompt">Prompt Title</h2>
  <p>By Tenshilove</p>

  <div id="customDisplay"></div>
  <button onclick="goToFix()" class="storyButton">Fix Parameters</button>
  <button onclick="goToPage('home.html')" class="storyButton">To Index</button>

  <div class="story">
    <div id="storyBox"></div>
    <button onclick="copyStory()" class="storyButton">Copy Story</button>
  </div>

  <div id="storyContainer"></div>
  <div id="storyDisplay"></div>
  <textarea id="copyBuffer"></textarea>
</article>

<script>
  const params = new URLSearchParams(window.location.search);

  const requiredFields = [
    "PregnantName", "PregnantSheHeThey", "PregnantHerHimThem",
    "PregnantHerHisTheir", "PregnantHersHisTheirs",
    "OtherName", "OtherSheHeThey", "OtherHerHimThem",
    "OtherHerHisTheir", "OtherHersHisTheirs"
  ];

  const missing = requiredFields.filter(field => !params.get(field));
  if (missing.length > 0) {
    window.location.href = `fix.html?${params.toString()}`;
  }

  const lc = str => (str || "").toLowerCase();
  const cap = str => (str || "").charAt(0).toUpperCase() + str.slice(1);

  const PregnantName = cap(lc(params.get("PregnantName")));
  const PregnantSheHeThey = lc(params.get("PregnantSheHeThey"));
  const PregnantHerHimThem = lc(params.get("PregnantHerHimThem"));
  const PregnantHerHisTheir = lc(params.get("PregnantHerHisTheir"));
  const PregnantHersHisTheirs = lc(params.get("PregnantHersHisTheirs"));

  const OtherName = cap(lc(params.get("OtherName")));
  const OtherSheHeThey = lc(params.get("OtherSheHeThey"));
  const OtherHerHimThem = lc(params.get("OtherHerHimThem"));
  const OtherHerHisTheir = lc(params.get("OtherHerHisTheir"));
  const OtherHersHisTheirs = lc(params.get("OtherHersHisTheirs"));

  let PregnantIsAre = "is", PregnantWasWere = "was", PregnantHasHave = "has", PregnantDoesDo = "does";
  let OtherIsAre = "is", OtherWasWere = "was", OtherHasHave = "has", OtherDoesDo = "does";

  if (PregnantSheHeThey === "they") {
    PregnantIsAre = "are"; PregnantWasWere = "were"; PregnantHasHave = "have"; PregnantDoesDo = "do";
  }
  if (OtherSheHeThey === "they") {
    OtherIsAre = "are"; OtherWasWere = "were"; OtherHasHave = "have"; OtherDoesDo = "do";
  }



  // ✅ Step 1: Insert your main prompt text here between the ``
  const storyText = `${OtherName} and ${PregnantName} are absolutely bubbling with excitement, their hearts filled with an overwhelming mix of happiness and love as they begin their first trimester journey. Meeting their tiny new addition couldn't come soon enough! Their first big project? The kitten's room. They spend hours laughing, poring over paint swatches, and imagining playful murals. Soon, the walls begin to glow with bright, cheerful colors, ready for their kitten's arrival.
Just as their nursery dreams were taking shape, an incredible opportunity landed in ${OtherName}’s lap. ${cap(OtherHerHisTheir)} company offered ${OtherHerHimThem} a new project promising significantly more income and, even better, the flexibility to work from home. This felt like a gift from above; more money meant they could provide even more for their little one, and ${OtherName}'s presence at home was a big plus. They celebrated, envisioning a secure future.
However, the reality of working from home quickly set in. With the half-finished nursery beckoning and the usual home distractions, ${OtherName} found it incredibly difficult to concentrate. ${cap(OtherHerHisTheir)} work, usually sharp and efficient, began to suffer. The risk wasn't just losing this new project, but potentially jeopardizing ${OtherHerHisTheir} entire position. This was a crucial chance for their family's financial well-being.
One evening, they stood together in the vibrant, unfinished nursery, their eyes lingering on the hopeful splashes of paint. The stark reality was clear: for ${OtherName} to succeed in this crucial new role, ${OtherSheHeThey} needed a dedicated home office. And that room was the nursery. Their hearts were torn. Should their kittenfloss sleep in their room for a while, securing ${OtherName}'s career and their financial future? Or continue with the nursery, knowing ${OtherName} would spend longer hours at the office? It was a truly difficult decision, balancing immediate comfort with their long-term security.
 
Question 
What do they decide to do? Nursery or Home Office
`.trim();
  document.getElementById("storyBox").innerText = storyText;




  // ✅ Step 2: Define your options in one place
  // Each option has 3 things to fill in. Remove the code block for unused options.
  // 1: fill in the "Option X" after the "label:" This will be what displays on the options buttons
  // 2: fill in the text for the options in between the `` after the "response"
  // 3: fill in the lowercase letter of the prompt the option leads to. Letters can be found on the image Ten made.
  const options = {
    "option1": {
      label: "Make it a Nursery",
      response: `The decision, though difficult, was ultimately clear. Their kitten’s precious space couldn't be sacrificed. While having the kitten in their room would work for a short while, they knew it wouldn't be long before their little one outgrew the temporary setup, forcing the same dilemma again. ${cap(OtherSheHeThey)} would simply have to commit to working at the main office, at least until ${OtherSheHeThey} fully mastered ${OtherHerHisTheir} new position. So, they continued with the nursery, filling it with even more love and anticipation. ${cap(OtherSheHeThey)} worked later at the office each day, but it wasn't too bad, and ${PregnantName} even found a little relief in a few more hours of quiet each afternoon. ${cap(OtherSheHeThey)} excelled in ${OtherHerHisTheir} new role, and soon they were able to buy their dream furniture for the nursery. Even with ${OtherHerHisTheir} late hours, they cherished every moment together, eagerly awaiting the arrival of their bundle of joy.
`,
      next: "h"
    }


    ,"option2": {
      label: "Office",
      response: `The decision, though a hard one, was clear. ${OtherName}'s new role was crucial. Together, they repainted the vibrant nursery walls back to a simple white and moved a computer desk into the space. Thankfully, the dedicated office worked wonders, allowing ${OtherName} to focus and complete ${OtherHerHisTheir} project on time. While the dream of a whimsical nursery faded, replaced by practicality, they lovingly set up a crib in the corner of their own bedroom. It wasn’t the same, but knowing ${OtherName} would be home and present for their kitten was what mattered most.`,
      next: "g"
    }


  };


  const container = document.getElementById("storyContainer");
  for (const key in options) {
    const btn = document.createElement("button");
    btn.className = "storyButton";
    btn.textContent = options[key].label;
    btn.onclick = () => showStory(key);
    container.appendChild(btn);
  }

  // ✅ Step 3: Insert the Prompt Title: Conception, Happy, Promotion, etc
  const promptTitle = "Nursery";

  
  document.getElementById("pageTitle").innerText = promptTitle;
  document.getElementById("promptTitle").innerText = promptTitle;


  const displayHTML = `
    <strong>Carrying Parent Name:</strong> ${PregnantName}<br>
    <strong>Pronouns:</strong> 
      ${PregnantSheHeThey} /
      ${PregnantHerHimThem} /
      ${PregnantHerHisTheir} /
      ${PregnantHersHisTheirs}<br>
    <strong>Other Parent Name:</strong> ${OtherName}<br>
    <strong>Pronouns:</strong> 
      ${OtherSheHeThey} /
      ${OtherHerHimThem} /
      ${OtherHerHisTheir} /
      ${OtherHersHisTheirs}
  `;
  document.getElementById("customDisplay").innerHTML = displayHTML;

  function goToFix() {
    window.location.href = `fix.html?${params.toString()}`;
  }

  function goToPage(page) {
    window.location.href = `${page}?${params.toString()}`;
  }

  function copyStory() {
    const story = document.getElementById("storyBox").innerText;
    navigator.clipboard.writeText(story)
      .then(() => alert("Story copied to clipboard!"))
      .catch(err => {
        alert("Failed to copy story.");
        console.error(err);
      });
  }

  function copyFromBuffer() {
    const buffer = document.getElementById("copyBuffer");
    buffer.select();
    buffer.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(buffer.value)
      .then(() => alert("Story copied to clipboard!"))
      .catch(err => {
        alert("Failed to copy.");
        console.error(err);
      });
  }

  function showStory(key) {
    const option = options[key];
    if (!option) return;

    document.getElementById("copyBuffer").value = option.response;

    document.getElementById("storyDisplay").innerHTML = `
      <p class="story"><strong>${option.label} path:</strong><br>${option.response.replace(/\n/g, '<br>')}</p>
      <button class="storyButton" onclick="copyFromBuffer()">Copy ${option.label}</button>
      <button class="storyButton" onclick="goToPage('${option.next}.html')">Continue ${option.label}</button>
    `;
  }
</script>
</body>
</html>
