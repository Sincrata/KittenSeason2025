<!DOCTYPE html>
<html>
<head>
  <title id="pageTitle">Neuroticism</title>
  <link rel="stylesheet" href="style.css">
  <style>
    article {
      max-width: 600px;
      margin: auto;
      display: block;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      text-align: center;
    }
    .story {
      margin: 30px auto;
      max-width: 600px;
      font-size: 18px;
      line-height: 1.6;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 10px;
    }
    .button-group {
      margin-top: 30px;
    }
    #customDisplay {
      margin-bottom: 30px;
      font-size: 16px;
      line-height: 1.5;
    }
    
    #copyBuffer {
      position: absolute;
      left: -9999px;
    }
  </style>
</head>
<body class="prompt">
<article>
  <h2 id="promptTitle" class="prompt">Neuroticism</h2>
  <p>By Tenshilove</p>

  <div id="customDisplay"></div>
  <button onclick="goToFix()" class="storyButton">Fix Parameters</button>
  <button onclick="goToPage('home.html')" class="storyButton">To Index</button>

  <div class="story">
    <div id="storyBox"></div>
    <button onclick="copyStory()" class="storyButton">Copy Story</button>
  </div>

  <div id="storyContainer"></div>
  <div id="storyDisplay"></div>
  <textarea id="copyBuffer"></textarea>
</article>

<script>
  const params = new URLSearchParams(window.location.search);

  const requiredFields = [
    "PregnantName", "PregnantSheHeThey", "PregnantHerHimThem",
    "PregnantHerHisTheir", "PregnantHersHisTheirs",
    "OtherName", "OtherSheHeThey", "OtherHerHimThem",
    "OtherHerHisTheir", "OtherHersHisTheirs"
  ];

  const missing = requiredFields.filter(field => !params.get(field));
  if (missing.length > 0) {
    window.location.href = `fix.html?${params.toString()}`;
  }

  const lc = str => (str || "").toLowerCase();
  const cap = str => (str || "").charAt(0).toUpperCase() + str.slice(1);

  const PregnantName = cap(lc(params.get("PregnantName")));
  const PregnantSheHeThey = lc(params.get("PregnantSheHeThey"));
  const PregnantHerHimThem = lc(params.get("PregnantHerHimThem"));
  const PregnantHerHisTheir = lc(params.get("PregnantHerHisTheir"));
  const PregnantHersHisTheirs = lc(params.get("PregnantHersHisTheirs"));

  const OtherName = cap(lc(params.get("OtherName")));
  const OtherSheHeThey = lc(params.get("OtherSheHeThey"));
  const OtherHerHimThem = lc(params.get("OtherHerHimThem"));
  const OtherHerHisTheir = lc(params.get("OtherHerHisTheir"));
  const OtherHersHisTheirs = lc(params.get("OtherHersHisTheirs"));

  let PregnantIsAre = "is", PregnantWasWere = "was", PregnantHasHave = "has", PregnantDoesDo = "does";
  let OtherIsAre = "is", OtherWasWere = "was", OtherHasHave = "has", OtherDoesDo = "does";

  if (PregnantSheHeThey === "they") {
    PregnantIsAre = "are"; PregnantWasWere = "were"; PregnantHasHave = "have"; PregnantDoesDo = "do";
  }
  if (OtherSheHeThey === "they") {
    OtherIsAre = "are"; OtherWasWere = "were"; OtherHasHave = "have"; OtherDoesDo = "do";
  }



  // ✅ Step 1: Insert your main prompt text here between the ``
  const storyText = `${PregnantName} and ${OtherName} are going to be parents! The first trimester was supposed to be a time of quiet excitement, but for ${PregnantName}, it was quickly turning into a whirlwind of information. Every free moment found ${PregnantHerHimThem} scrolling through pregnancy blogs or tuning into a new prenatal health podcast. ${PregnantSheHeThey} have been messaging their surrogate non-stop with links to articles and advice and asking for her sleep schedule.
Soon, ${PregnantHerHisTheir} newfound knowledge morphed into a strict regimen for the surrogate. ${OtherName} watched as ${PregnantSheHeThey} started bothering her about every little thing, even to the point where ${PregnantSheHeThey} asked her to get a fit bit and share her app with ${PregnantHerHimThem} to monitor it. ${OtherName} couldn't hold a conversation with ${PregnantHerHimThem} without something leading ${PregnantHerHimThem} down a tangent about prenatal vitamins or alternative birthing methods. "Did you know," ${PregnantSheHeThey}'d often begin, "that eating organic kale at precisely 7 PM can boost XYZ?" ${OtherName} loved ${PregnantHerHimThem}, but these increasingly specific, pushy rules were creating an air of constant stress for the surrogate mother and for them.

${OtherName} knew their surrogate was far too kind to say anything, so it was up to ${OtherHerHimThem} to put a stop to this nonsense. ${cap(OtherSheHeThey)} understood ${PregnantHerHisTheir} desire to be a good parent, but the constant worry and these neurotic behaviors were starting to cast a long shadow over their relationship. ${cap(OtherSheHeThey)} tried to be patient, to empathize, but it was getting harder.
Is this just how ${PregnantName} is? ${OtherName} pictured their future – filled with joy, yes, but also with an endless parade of health mandates and dietary restrictions. ${cap(OtherSheHeThey)} didn't want to raise their kitten with this sort of intricate micromanaging. One more mention of a ‘superfood smoothie’ or a perfectly timed nap, and ${OtherSheHeThey} felt a sharp knot of annoyance tightening in ${OtherHerHisTheir} chest. ${cap(OtherSheHeThey)} ${OtherWasWere} on the verge of snapping, unsure how much more ${OtherSheHeThey} could take of the stress ${PregnantName} was unknowingly creating for them both and for their surrogate mother.
 
Question 
What does ${OtherName} do? Join in, Ignore it, or Seek help
`.trim();
  document.getElementById("storyBox").innerText = storyText;




  // ✅ Step 2: Define your options in one place
  // Each option has 3 things to fill in. Remove the code block for unused options.
  // 1: fill in the "Option X" after the "label:" This will be what displays on the options buttons
  // 2: fill in the text for the options in between the `` after the "response"
  // 3: fill in the lowercase letter of the prompt the option leads to. Letters can be found on the image Ten made.
  const options = {
    "option1": {
      label: "Join in",
      response: `${cap(OtherSheHeThey)} felt a knot of frustration tightening, silently counting down to ${OtherHerHisTheir} breaking point.
One evening, as ${PregnantName} was lounging on the couch texting their surrogate a meticulously organized plan of vitamin intake, ${OtherName} finally confronted ${PregnantHerHimThem}. A tense exchange followed, filled with ${OtherHerHisTheir} concern for the sanity of their surrogate and ${PregnantName}’s intense anxieties for their kitten’s well being. But as the initial pushback settled, they both took a breath, allowing real listening to begin. ${PregnantName} confessed ${PregnantHerHisTheir} overwhelming fears about being physically away from their growing kitten. It’s not that ${PregnantSheHeThey} ${PregnantDoesDo}n’t trust the surrogate to know what she’s doing, but ${PregnantSheHeThey} just can’t shake their fear that something could be going wrong and the two of them aren’t there to notice. As ${OtherName} truly heard the raw worry in ${PregnantHerHisTheir} voice, ${OtherHerHisTheir} perspective shifted. ${cap(OtherSheHeThey)} realized ${OtherHerHisTheir} annoyance was misplaced. Their kitten deserved every ounce of effort, every precaution. 
 
${cap(OtherSheHeThey)} pulled ${PregnantHerHimThem} into a hug, promising to let go of ${OtherHerHisTheir} frustration and even help ${PregnantHerHimThem} manage their surrogate’s schedule intricate schedules. Maybe the surrogate really didn’t mind it after all, she hadn’t complained yet. It might drive ${OtherHerHimThem} a little crazy, ${OtherSheHeThey} knew, but for their little one, it was a small sacrifice.
`,
      next: "e"
    }


    ,"option2": {
      label: "Ignore it",
      response: `The tension finally peaked, and ${OtherName} decided to talk to ${PregnantName}. It wasn't an easy conversation; it was a back-and-forth of differing perspectives, neither truly understanding the other. ${PregnantName} couldn't fathom why ${OtherSheHeThey} didn't grasp the importance of ${PregnantHerHisTheir} choices, and ${OtherName} couldn't make ${PregnantHerHimThem} see how annoying they were being to the surrogate. Exhausted, ${OtherName} eventually surrendered. Perhaps, ${PregnantSheHeThey} ${PregnantWasWere} right. Maybe the surrogate didn't mind - she hadn't complained after all. Perhaps it was only ${OtherSheHeThey} that ${OtherWasWere} upset, and ${OtherSheHeThey} just needed to let go and accept this new, detail-oriented ${PregnantName}. ${cap(OtherSheHeThey)} resolved to simply move on.
What followed were months marked by ${OtherHerHisTheir} resigned "yes, dears" and an underlying current of frustration. A subtle wedge began to drive itself between them, making their shared space feel a little bigger, a little quieter. Yet, amidst the tension, there were glimmers of their old connection—a shared laugh over ultrasound pictures, tender moments during their visits with their surrogate. ${OtherName} held onto these precious, scattered moments of joy, hoping they would be enough to bridge the growing gap and keep their love story intact.
`,
      next: "f"
    }


    ,"option3": {
      label: "Seek help",
      response: `One evening, ${OtherName} finally confronted ${PregnantHerHimThem}, and things quickly went off the rails. ${PregnantName} lashed out, yelling that ${OtherSheHeThey} didn’t care about their kitten and suggesting they split up if ${OtherSheHeThey} ${OtherWasWere}n’t ready to make sacrifices. The words stung, but ${OtherName} quickly realized the intense fear driving ${PregnantHerHisTheir} reaction – those fear-mongering articles had clearly taken their toll. Deciding that enough was enough, ${OtherSheHeThey} put ${OtherHerHisTheir} foot down and suggested they talk to a professional. If ${PregnantSheHeThey} wouldn't listen to ${OtherHerHimThem}, maybe ${PregnantSheHeThey} would listen to an expert.
${cap(OtherSheHeThey)} promptly made an appointment, and thankfully, the session with the therapist was incredibly helpful. ${PregnantName} received accurate, reassuring information that gently peeled away the layers of anxiety ${PregnantSheHeThey} had built up. Relief washed over ${PregnantHerHimThem} as ${PregnantSheHeThey} let go of those rigid fears. ${cap(PregnantSheHeThey)} tearfully apologized to ${OtherName}, and the surrogate mother who readily accepted, understanding ${PregnantSheHeThey}'d been overwhelmed. She told them gently that she wasn't annoyed, but she did think ${PregnantSheHeThey} ${PregnantWasWere} taking things a little far. She has been a surrogate a few times before, and knows how parents can be very particular about their kittens. They all agreed it was perfectly fine to be careful and make sacrifices for their kitten, but not at the expense of their joy and peace of mind. They were a team, ready to navigate parenthood with realistic levels of care and a lot more laughter.
`,
      next: "g"
    }


  };


  const container = document.getElementById("storyContainer");
  for (const key in options) {
    const btn = document.createElement("button");
    btn.className = "storyButton";
    btn.textContent = options[key].label;
    btn.onclick = () => showStory(key);
    container.appendChild(btn);
  }

  // ✅ Step 3: Insert the Prompt Title: Conception, Happy, Promotion, etc
  const promptTitle = "Neuroticism";

  
  document.getElementById("pageTitle").innerText = promptTitle;
  document.getElementById("promptTitle").innerText = promptTitle;


  const displayHTML = `
    <strong>Carrying Parent Name:</strong> ${PregnantName}<br>
    <strong>Pronouns:</strong> 
      ${PregnantSheHeThey} /
      ${PregnantHerHimThem} /
      ${PregnantHerHisTheir} /
      ${PregnantHersHisTheirs}<br>
    <strong>Other Parent Name:</strong> ${OtherName}<br>
    <strong>Pronouns:</strong> 
      ${OtherSheHeThey} /
      ${OtherHerHimThem} /
      ${OtherHerHisTheir} /
      ${OtherHersHisTheirs}
  `;
  document.getElementById("customDisplay").innerHTML = displayHTML;

  function goToFix() {
    window.location.href = `fix.html?${params.toString()}`;
  }

  function goToPage(page) {
    window.location.href = `${page}?${params.toString()}`;
  }

  function copyStory() {
    const story = document.getElementById("storyBox").innerText;
    navigator.clipboard.writeText(story)
      .then(() => alert("Story copied to clipboard!"))
      .catch(err => {
        alert("Failed to copy story.");
        console.error(err);
      });
  }

  function copyFromBuffer() {
    const buffer = document.getElementById("copyBuffer");
    buffer.select();
    buffer.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(buffer.value)
      .then(() => alert("Story copied to clipboard!"))
      .catch(err => {
        alert("Failed to copy.");
        console.error(err);
      });
  }

  function showStory(key) {
    const option = options[key];
    if (!option) return;

    document.getElementById("copyBuffer").value = option.response;

    document.getElementById("storyDisplay").innerHTML = `
      <p class="story"><strong>${option.label} path:</strong><br>${option.response.replace(/\n/g, '<br>')}</p>
      <button class="storyButton" onclick="copyFromBuffer()">Copy ${option.label}</button>
      <button class="storyButton" onclick="goToPage('${option.next}.html')">Continue ${option.label}</button>
    `;
  }
</script>
</body>
</html>
