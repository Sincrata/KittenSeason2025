<!DOCTYPE html>
<html>
<head>
  <title id="pageTitle">Prompt Title</title>
  <link rel="stylesheet" href="style.css">
  <style>
    article {
      max-width: 600px;
      margin: auto;
      display: block;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
      text-align: center;
    }
    .story {
      margin: 30px auto;
      max-width: 600px;
      font-size: 18px;
      line-height: 1.6;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 10px;
    }
    .button-group {
      margin-top: 30px;
    }
    #customDisplay {
      margin-bottom: 30px;
      font-size: 16px;
      line-height: 1.5;
    }
    
    #copyBuffer {
      position: absolute;
      left: -9999px;
    }
  </style>
</head>
<body class="prompt">
<article>
  <h2 id="promptTitle" class="prompt">Prompt Title</h2>
  <p>By Tenshilove</p>

  <div id="customDisplay"></div>
  <button onclick="goToFix()" class="storyButton">Fix Parameters</button>
  <button onclick="goToPage('home.html')" class="storyButton">To Index</button>

  <div class="story">
    <div id="storyBox"></div>
    <button onclick="copyStory()" class="storyButton">Copy Story</button>
  </div>

  <div id="storyContainer"></div>
  <div id="storyDisplay"></div>
  <textarea id="copyBuffer"></textarea>
</article>

<script>
  const params = new URLSearchParams(window.location.search);

  const requiredFields = [
    "PregnantName", "PregnantSheHeThey", "PregnantHerHimThem",
    "PregnantHerHisTheir", "PregnantHersHisTheirs",
    "OtherName", "OtherSheHeThey", "OtherHerHimThem",
    "OtherHerHisTheir", "OtherHersHisTheirs"
  ];

  const missing = requiredFields.filter(field => !params.get(field));
  if (missing.length > 0) {
    window.location.href = `fix.html?${params.toString()}`;
  }

  const lc = str => (str || "").toLowerCase();
  const cap = str => (str || "").charAt(0).toUpperCase() + str.slice(1);

  const PregnantName = cap(lc(params.get("PregnantName")));
  const PregnantSheHeThey = lc(params.get("PregnantSheHeThey"));
  const PregnantHerHimThem = lc(params.get("PregnantHerHimThem"));
  const PregnantHerHisTheir = lc(params.get("PregnantHerHisTheir"));
  const PregnantHersHisTheirs = lc(params.get("PregnantHersHisTheirs"));

  const OtherName = cap(lc(params.get("OtherName")));
  const OtherSheHeThey = lc(params.get("OtherSheHeThey"));
  const OtherHerHimThem = lc(params.get("OtherHerHimThem"));
  const OtherHerHisTheir = lc(params.get("OtherHerHisTheir"));
  const OtherHersHisTheirs = lc(params.get("OtherHersHisTheirs"));

  let PregnantIsAre = "is", PregnantWasWere = "was", PregnantHasHave = "has", PregnantDoesDo = "does";
  let OtherIsAre = "is", OtherWasWere = "was", OtherHasHave = "has", OtherDoesDo = "does";

  if (PregnantSheHeThey === "they") {
    PregnantIsAre = "are"; PregnantWasWere = "were"; PregnantHasHave = "have"; PregnantDoesDo = "do";
  }
  if (OtherSheHeThey === "they") {
    OtherIsAre = "are"; OtherWasWere = "were"; OtherHasHave = "have"; OtherDoesDo = "do";
  }



  // ✅ Step 1: Insert your main prompt text here between the ``
  const storyText = `Life has a funny way of throwing curveballs, and for ${PregnantName}, in ${PregnantHerHisTheir} third trimester, those curveballs were arriving with remarkable precision – and increasing intensity. ${PregnantName} was navigating the exciting, yet daunting, final stretch of ${PregnantHerHisTheir} pregnancy. ${cap(PregnantHerHisTheir)} due date was looming, but so was a massive project at work, one ${PregnantHerHisTheir} boss desperately needed ${PregnantHerHisTheir} help with. Financial stability for ${PregnantHerHisTheir} impending bundle of joy was paramount, so when ${PregnantHerHisTheir} boss asked ${PregnantHerHisTheir} to push through ${PregnantHerHisTheir} parental leave a little longer, ${PregnantSheHeThey} reluctantly agreed, the promise of extra money a powerful motivator.

${PregnantName}, feeling as heavy as a kinmaerifa, arrived at the office, ready to tackle another challenging workday. A crucial meeting with shareholders was on the agenda, and ${PregnantName}, being the absolute linchpin of the team, was set to lead the presentation. Just as ${PregnantSheHeThey} ${PregnantWasWere} gathering ${PregnantHerHisTheir} thoughts, preparing to head into the boardroom, a sharp, unfamiliar pain seized ${PregnantHerHimThem}. A contraction. ${cap(PregnantHerHisTheir)} breath hitched. Could this be it? ${cap(PregnantSheHeThey)} debated making a quick exit, but just as quickly as it came, the pain subsided. ${cap(PregnantHerHisTheir)} boss, ever the pragmatist, caught ${PregnantHerHisTheir} eye, noticing ${PregnantHerHisTheir} momentary discomfort. "Just normal aches and pains, I'm sure, ${PregnantName}. You're fine," he said with a reassuring, if slightly dismissive, wave. "The shareholders are waiting." ${PregnantName}, ever the professional, pushed ${PregnantHerHisTheir} worries aside and nodded, convincing ${PregnantHerHimThem}self that he was right. ${cap(PregnantSheHeThey)} had a presentation to nail.

Stepping into the meeting, ${PregnantName} was in ${PregnantHerHisTheir} element. ${cap(PregnantSheHeThey)} commanded the room, ${PregnantHerHisTheir} voice clear and confident as ${PregnantSheHeThey} walked the shareholders through complex data and brilliant strategies. ${cap(PregnantHerHisTheir)} colleagues watched in awe; they truly couldn't have pulled this off without ${PregnantHerHimThem}. Suddenly, another, more intense contraction hit. ${PregnantName} felt ${PregnantHerHisTheir} vision blur for a split second, a wave of heat washing over ${PregnantHerHimThem}. ${cap(PregnantSheHeThey)} gripped the podium, ${PregnantHerHisTheir} knuckles white, but ${PregnantHerHisTheir} voice never wavered. The shareholders, observant, asked if ${PregnantSheHeThey} was okay. With a strained smile, ${PregnantName} quickly assured them, "Perfectly fine, just some normal third-trimester issues, nothing to worry about. Now, if you look at slide seven…" ${cap(PregnantSheHeThey)} powered through, driven by an almost gammafloss-like resolve. The presentation was a resounding success, a testament to ${PregnantHerHisTheir} dedication and incredible mental fortitude.

As the meeting wrapped up, ${PregnantName} felt a profound sense of relief, coupled with an undeniable exhaustion. All ${PregnantSheHeThey} wanted was to get ${PregnantHerHisTheir} things and leave. But as ${PregnantSheHeThey} reached ${PregnantHerHisTheir} desk, another contraction, sharper and longer than any before, brought ${PregnantHerHimThem} to ${PregnantHerHisTheir} knees. ${cap(PregnantSheHeThey)} crouched by ${PregnantHerHisTheir} chair, clutching ${PregnantHerHisTheir} burgeoning belly, a suppressed groan escaping ${PregnantHerHisTheir} lips as ${PregnantSheHeThey} writhed in pain.

Just then, a coworker approached, oblivious to ${PregnantHerHimThem} plight. "${PregnantName}, are you alright?" he asked, not waiting for an answer. "Listen, I really need your help with something. It's crucial for the project. If I mess this up, it could bomb, and you're the only one who truly understands the numbers. It'll just take a few minutes." ${PregnantName} looked up, ${PregnantHerHisTheir} face pale, sweat beading on ${PregnantHerHisTheir} forehead. "I... I think I'm in labor," ${PregnantSheHeThey} managed to stammer. ${cap(PregnantHerHisTheir)} coworker, focused solely on the project, seemed unfazed. "Oh, that's a real shame," he said, shaking his head. "But labor can last hours, right? This will only take ten minutes, tops!" ${PregnantName}, knowing how important this project was for everyone, and internally calculating the potential hours of early labor, sighed. Reluctantly, ${PregnantSheHeThey} pushed ${PregnantHerHimThem}self up, agreeing to help. For the next stretch, ${PregnantSheHeThey} helped ${PregnantHerHisTheir} colleague, biting back cries of pain, talking them through complex calculations between bursts of intense contractions. It was an agonizing dance of professional duty and biological urgency.

Finally, the last detail was sorted, the last number double-checked. ${PregnantName} was truly finished. "I have to go," ${PregnantSheHeThey} declared, pushing away from the desk. ${cap(PregnantSheHeThey)} started to carefully make ${PregnantHerHisTheir} way towards the exit, movements slow and deliberate, when ${PregnantHerHisTheir} boss appeared, stopping ${PregnantHerHimThem} in ${PregnantHerHisTheir} tracks. "${PregnantName}, can you just take a quick look at this one last thing?" he asked, holding out a document. ${PregnantName}'s patience, stretched thin by hours of labor, snapped. "I'm going to have a kittenfloss!" ${PregnantSheHeThey} insisted, a desperate edge to ${PregnantHerHisTheir} voice. ${cap(PregnantHerHisTheir)} boss chuckled, completely misinterpreting ${PregnantHerHisTheir} urgency. "Oh, you're fine, you're fine," he laughed, waving his hand dismissively.
It was at that exact moment, with a dramatic gush, that ${PregnantName}'s water broke, soaking the office carpet. A sudden, stunned silence fell over the small group. ${PregnantName} stared at the spreading puddle, then at ${PregnantHerHisTheir} boss's ashen face, and an unburdened sense of resolve washed over ${PregnantHerHimThem}. Without another word, ${PregnantSheHeThey} turned and marched out of the office, leaving ${PregnantHerHisTheir} shocked colleagues and boss in ${PregnantHerHisTheir} watery wake. No one dared to stop ${PregnantHerHimThem}.

Reaching the parking lot, ${PregnantName} fumbled for ${PregnantHerHisTheir} car keys, ${PregnantHerHisTheir} hands shaking. ${cap(PregnantSheHeThey)} just needed to get into ${PregnantHerHisTheir} car. But as ${PregnantSheHeThey} tried to open the door, a massive, undeniable contraction hit ${PregnantHerHimThem} with full force. ${cap(PregnantSheHeThey)} could feel the baby coming. ${cap(PregnantSheHeThey)} leaned against the car, panting, realizing with a jolt that driving ${PregnantHerHimThem}self was absolutely out of the question. With trembling fingers, ${PregnantSheHeThey} pulled out ${PregnantHerHisTheir} phone and dialled 911.

The ambulance arrived swiftly, lights flashing, a welcome beacon in ${PregnantHerHisTheir} rapidly evolving emergency. The paramedics were incredible, quickly assessing ${PregnantHerHisTheir} situation and rushing ${PregnantHerHisTheir} to the nearest hospital. It was a race against time, but thankfully, ${PregnantSheHeThey} had just enough spare minutes. As ${PregnantSheHeThey} was wheeled into the delivery suite, the nurses immediately sprang into action, praising ${PregnantHerHisTheir} strength and resilience. "You're amazing, mama!" one exclaimed. ${cap(PregnantSheHeThey)} had made it to the hospital just in the nick of time to deliver ${PregnantHerHisTheir} precious kitten, safe and sound.

Hours later, nestled comfortably in ${PregnantHerHisTheir} hospital bed, ${PregnantName} held ${PregnantHerHisTheir} newborn kitten, a tiny, perfect bundle, against ${PregnantHerHisTheir} chest. ${cap(PregnantSheHeThey)} gazed at the little face, utterly mesmerized, the day's unbelievable events already fading into a hazy memory of triumph.

 Just then, ${PregnantHerHisTheir} boss and several coworkers appeared at the door, sheepish grins on their faces, clutching balloons and flowers. They apologized profusely, genuinely remorseful for their earlier obliviousness and for keeping ${PregnantHerHimThem}. They were relieved to see that both ${PregnantSheHeThey} and the kitten were healthy and safe.

${PregnantName}, feeling a surge of well-deserved confidence and power, looked pointedly at ${PregnantHerHisTheir} boss. "You know," ${PregnantSheHeThey} said, a mischievous twinkle in ${PregnantHerHisTheir} eye, "after today, I think I deserve a really big bonus." ${cap(PregnantHerHisTheir)} boss, still reeling from the day's events, didn't hesitate. "Absolutely, ${PregnantName}. Anything you want. You earned it."

It had been a scary, uncomfortable, and utterly unbelievable ordeal, but as ${PregnantName} looked down at ${PregnantHerHisTheir} child, a gentle smile spread across ${PregnantHerHisTheir} face. At the very least, ${PregnantSheHeThey} would have one heck of a story to tell ${PregnantHerHisTheir} kit about how they were almost born on the floor of an office building, thanks to a very important project and a very dedicated parent.
`.trim();
  document.getElementById("storyBox").innerText = storyText;





  const options = {
    "option1": {
      label: "Complete",
      response: `You're all done!`,
      next: "home"
    }


  };


  const container = document.getElementById("storyContainer");
  for (const key in options) {
    const btn = document.createElement("button");
    btn.className = "storyButton";
    btn.textContent = options[key].label;
    btn.onclick = () => showStory(key);
    container.appendChild(btn);
  }

  // ✅ Step 2: Insert the Prompt Title: Conception, Happy, Promotion, etc
  const promptTitle = "Where are you?";

  
  document.getElementById("pageTitle").innerText = promptTitle;
  document.getElementById("promptTitle").innerText = promptTitle;


  const displayHTML = `
    <strong>Carrying Parent Name:</strong> ${PregnantName}<br>
    <strong>Pronouns:</strong> 
      ${PregnantSheHeThey} /
      ${PregnantHerHimThem} /
      ${PregnantHerHisTheir} /
      ${PregnantHersHisTheirs}<br>
    <strong>Other Parent Name:</strong> ${OtherName}<br>
    <strong>Pronouns:</strong> 
      ${OtherSheHeThey} /
      ${OtherHerHimThem} /
      ${OtherHerHisTheir} /
      ${OtherHersHisTheirs}
  `;
  document.getElementById("customDisplay").innerHTML = displayHTML;

  function goToFix() {
    window.location.href = `fix.html?${params.toString()}`;
  }

  function goToPage(page) {
    window.location.href = `${page}?${params.toString()}`;
  }

  function copyStory() {
    const story = document.getElementById("storyBox").innerText;
    navigator.clipboard.writeText(story)
      .then(() => alert("Story copied to clipboard!"))
      .catch(err => {
        alert("Failed to copy story.");
        console.error(err);
      });
  }

  function copyFromBuffer() {
    const buffer = document.getElementById("copyBuffer");
    buffer.select();
    buffer.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(buffer.value)
      .then(() => alert("Story copied to clipboard!"))
      .catch(err => {
        alert("Failed to copy.");
        console.error(err);
      });
  }

  function showStory(key) {
    const option = options[key];
    if (!option) return;

    document.getElementById("copyBuffer").value = option.response;

    document.getElementById("storyDisplay").innerHTML = `
      <p class="story"><strong>${option.label} path:</strong><br>${option.response.replace(/\n/g, '<br>')}</p>
      <button class="storyButton" onclick="copyFromBuffer()">Copy ${option.label}</button>
      <button class="storyButton" onclick="goToPage('${option.next}.html')">Continue ${option.label}</button>
    `;
  }
</script>
</body>
</html>
